{"version":3,"sources":["reportWebVitals.ts","api/cards-api.ts","api/cards-login-api.ts","utils/error-utils.ts","features/auth/registration/auth-reducer.ts","features/auth/Login/login-reducer.ts","features/auth/profile/profile-reducer.ts","features/app/app-reducer.ts","components/ErrorSnackbar/ErrorSnackbar.tsx","features/auth/Login/Login.tsx","features/404/Error404.tsx","components/EditableSpan/EditableSpan.tsx","images/avatar.jpg","components/hooks.ts","features/auth/profile/Profile.tsx","features/auth/recovery/passwordRecovery-reducer.tsx","features/auth/newPassword/NewPassword.tsx","images/emailPigen.jpg","features/auth/recovery/Recovery.tsx","features/auth/registration/Registration.tsx","images/letsLearn1.png","features/navbar/Navbar.tsx","api/packs-api.ts","features/packs/packs-reducer.ts","features/packs/filterPanel/pack-search/PackSearch.tsx","features/packs/filterPanel/pack-My-All/MyAllPacksSwitch.tsx","features/packs/filterPanel/pack-slider/DoubleSlider.tsx","features/packs/filterPanel/resetFilter/ResetFilter.tsx","features/packs/filterPanel/FilterPanel.tsx","features/packs/paclk-table/packs-table.tsx","features/packs/Packs.tsx","images/emptyStar.png","images/goldStart.png","features/cards/cards-table/Stars.tsx","features/cards/cards-reducer.ts","features/cards/cards-table/cards-table.tsx","features/cards/Cards.tsx","features/app/App.tsx","api/store.ts","index.tsx","features/packs/paclk-table/packTable.module.css","features/auth/Login/login.module.css","features/navbar/navbar.module.css"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","baseURL","withCredentials","cardsAPI","values","get","params","post","id","delete","card","put","authAPI","data","name","email","payload","from","message","password","resetPasswordToken","handleServerNetworkError","error","dispatch","setAppErrorAC","setAppStatusAC","initialState","isLoggedIn","isRegistered","serverError","setIsLoggedInAC","value","type","loading","success","user","_id","rememberMe","setUserAC","status","isInitialized","setAppInitializedAC","Alert","React","forwardRef","props","ref","elevation","variant","ErrorSnackbar","useSelector","state","app","useDispatch","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","sx","width","Login","auth","navigate","useNavigate","formik","useFormik","initialValues","validate","errors","test","length","onSubmit","res","catch","resetForm","handleSubmit","Grid","container","justifyContent","className","s","style","marginTop","item","FormControl","FormGroup","TextField","label","margin","getFieldProps","minWidth","touched","color","FormControlLabel","control","Checkbox","checked","textAlign","to","Button","borderRadius","signUp","Error404","EditableSpan","memo","useState","editMode","setEditMode","title","setTitle","onChange","e","currentTarget","autoFocus","onBlur","onClick","fontSize","useAppDispatch","useAppSelector","Profile","profile","border","padding","backgroundColor","src","avatar","alt","console","log","updatedUser","updateUserTC","recoveryEmail","sent","NewPassword","useParams","token","setNewPasswordTC","maxWidth","borderColor","Recovery","emailIsSent","recovery","emailFromInput","setEmailFromInput","setRecoveryEmailAC","emailImage","Registration","passwordConfirm","Navbar","nav","letsLearnImg","letslearn","alignItems","display","marginLeft","LogInButton","pathname","loginNavLink","packsAPI","cardsPack","currentPage","packNameSearch","user_id","min","max","packsData","myPacksMode","newPack","deckCover","private","packName","setMinMaxValueAC","setPackNameForSearchAC","setMyPacksAC","setCurrentPageAC","setPacksTC","setPacksAC","PackSearch","packs","setName","useDebounce","debounceValue","useEffect","Box","component","noValidate","autoComplete","placeholder","target","MyAllPacksSwitch","myPackId","DoubleSlider","setValue","Slider","newValue","valueLabelDisplay","ResetFilter","cursor","FilterPanel","left","position","marginBottom","PacksTable","deletePackOnClickHandler","deletePackTC","editPackOnClickHandler","TableContainer","Paper","Table","top","aria-label","TableHead","TableRow","TableCell","align","TableBody","cardPacks","map","pack","scope","cardsCount","updated","Packs","packId","cardPacksTotalCount","packsOnPage","setPacksOnPage","pagesCount","Math","ceil","pageCount","page","sortPacks","newPackPanel","newPackButton","createNewPackAC","createPacksTC","paginationWrapper","Pagination","count","shape","m","size","Select","MenuItem","Stars","grades","floor","emptyStar","marginRight","goldStar","cards","cardsPack_id","cardAnswer","cardQuestion","sortCards","cardsTotalCount","newCard","question","answer","grade","setCardsTC","getState","cardsData","CardsTable","deleteCardOnClickHandler","editCardOnClickHandler","Cards","currentPackName","find","n","myCards","filter","currentPack","packIsEmpty","cardsOnPage","setCardsOnPage","createCardOnClickHandler","setCardPageAC","App","a","path","element","rootReducer","combineReducers","action","login","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d341174c.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios, {AxiosResponse} from 'axios'\r\n\r\nexport const instance = axios.create({\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n    // baseURL: process.env.REACT_APP_BACK_URL || 'http://localhost:7542/2.0/',\r\n    withCredentials: true,\r\n})\r\n\r\n// api\r\nexport const cardsAPI = {\r\n    setCards(values: CardsGetRequestDataType) {\r\n        return instance.get<GetCardsResponseType>('cards/card', {params: values});\r\n    },\r\n    createCard(params: CreateCardRequestType) {\r\n        return instance.post<CreateCardRequestType,any>('/cards/card',params)\r\n    },\r\n    deleteCard(id:string) {\r\n        return instance.delete(`/cards/card`,{ params: { id }})\r\n    },\r\n    updateCard(card: CardType) {\r\n        return instance.put(`/cards/card`, {card})\r\n    },\r\n\r\n}\r\n\r\nexport type CardType = {\r\n    _id: string\r\n    cardsPack_id: string\r\n    user_id?: string\r\n    answer?: string\r\n    question?: string\r\n    grade: number\r\n    shots?: number\r\n    comments?: string\r\n    type?: string\r\n    rating?: number\r\n    more_id?: string\r\n    created?: string\r\n    updated?: string\r\n    __v?: number\r\n}\r\n\r\nexport type CardsStateType = CardType[]\r\n\r\n// types\r\nexport type CardsGetRequestDataType = {\r\n    cardAnswer?: string;\r\n    cardQuestion?: string;\r\n    cardsPack_id: string;\r\n    min?: number;\r\n    max?: number;\r\n    sortCards?: string;\r\n    page?: number;\r\n    pageCount?: number;\r\n}\r\nexport type GetCardsResponseType = {\r\n    cards: CardType[]\r\n    packUserId: string\r\n    packName: string\r\n    packPrivate: boolean\r\n    packDeckCover: string\r\n    packCreated: string\r\n    packUpdated: string\r\n    page: number\r\n    pageCount: number\r\n    cardsTotalCount: number\r\n    minGrade: number\r\n    maxGrade: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type CreateCardRequestType = {\r\n    card: {\r\n        cardsPack_id: string\r\n        question: string\r\n        answer: string\r\n        grade?: number\r\n        shots?: number\r\n        answerImg?: string\r\n        questionImg?: string\r\n        questionVideo?: string\r\n        answerVideo?: string\r\n    }\r\n}\r\n\r\n// export type PacksGetRequestType = {\r\n//     params: PacksGetRequestDataType\r\n// }\r\n//\r\n// export type PacksGetRequestDataType = {\r\n//     packName?: string // не обязательно\r\n//     min?: number // не обязательно\r\n//     max?: number // не обязательно\r\n//     sortPacks?: number // не обязательно\r\n//     page?: number // не обязательно\r\n//     pageCount?: number // не обязательно\r\n//     user_id?: string// чьи колоды не обязательно, или прийдут все\r\n// }\r\n// export type CardPacksType = {\r\n//     _id: string\r\n//     user_id?: string\r\n//     name?: string\r\n//     cardsCount?: number\r\n//     created?: string\r\n//     updated?: string\r\n// }\r\n//\r\n// export type PacksGetResponseDataType = {\r\n//     cardPacks: Array<CardPacksType>\r\n//     cardPacksTotalCount: number// количество колод\r\n//     maxCardsCount: number\r\n//     minCardsCount: number\r\n//     page: number // выбранная страница\r\n//     pageCount: number// количество элементов на странице\r\n// }\r\n// // export type CreatePackRequestType= {\r\n// //     cardsPack: {\r\n// //         name: string, // если не отправить будет таким\r\n// //         deckCover?: string, // не обязателен\r\n// //         private?: boolean// если не отправить будет такой\r\n// //     }\r\n//\r\n//     export type CreatePackRequestType= {\r\n//     cardsPack: {\r\n//         name: string, // если не отправить будет таким\r\n//         deckCover?: string, // не обязателен\r\n//         private?: boolean// если не отправить будет такой\r\n//     }\r\n// }\r\n// export type ResponseType<D = {}> = {\r\n//     resultCode: number\r\n//     messages: Array<string>\r\n//     fieldsErrors: Array<string>\r\n//     data: D\r\n// }\r\n// export type CardPackType = {\r\n//     _id: string\r\n//     user_id: string\r\n//     user_name: string\r\n//     private: boolean\r\n//     name: string\r\n//     path: string\r\n//     grade: number\r\n//     shots: number\r\n//     cardsCount: number\r\n//     type: string\r\n//     rating: number\r\n//     created: string\r\n//     updated: string\r\n//     more_id: string\r\n//     __v: number\r\n//     deckCover?: string | null\r\n// }\r\n\r\n","import {AxiosResponse} from 'axios'\r\nimport {instance} from \"./cards-api\";\r\n\r\n\r\n// api\r\nexport const authAPI = {\r\n    login(data: LoginParamsType) {\r\n        return instance.post<LoginParamsType, AxiosResponse<UserDataResponseType>>(`/auth/login`, data)\r\n    },\r\n    register(data: RegisterParamsType) {\r\n        return instance.post<RegisterParamsType, ResponseRegisterType>(`/auth/register`, data)\r\n    },\r\n    me() {\r\n        return instance.post<{}, AxiosResponse<UserDataResponseType>>('/auth/me', {})\r\n    },\r\n    logout() {\r\n        return instance.delete<UniversalResponseType>(`/auth/me`)\r\n    },\r\n    updateUser(name: string) {\r\n        return instance.put<{name: string}, AxiosResponse<UpdateUserResponseType>>('/auth/me', {name})\r\n    },\r\n    forgotPassword(email: string) {\r\n        const payload: ForgotPasswordParamsType = {\r\n            email,\r\n            from: \"<d.r.semenova@yandex.ru>\",\r\n            message: `<div style=\"background-color: lime; padding: 15px\">password recovery link: <a href='http://localhost:3000/CardsProject#/set-new-password/$token$'>link</a></div>`\r\n            // message: `<div style=\"background-color: lime; padding: 15px\">password recovery link: <a href='https://DinaSem.github.io/CardsProject#/set-new-password/$token$'>link</a></div>`\r\n\r\n        }\r\n        return instance.post <ForgotPasswordParamsType, AxiosResponse<UniversalResponseType>>('/auth/forgot', payload)\r\n    },\r\n    newPassword(password: string, resetPasswordToken: string) {\r\n        return instance.post<{ password: string, resetPasswordToken: string }, AxiosResponse<UniversalResponseType>>('/auth/set-new-password', {\r\n            password,\r\n            resetPasswordToken\r\n        })\r\n    },\r\n}\r\n\r\n\r\n// types\r\n\r\nexport type UserDataResponseType = {\r\n    _id: string;\r\n    email: string;\r\n    name: string;\r\n    avatar?: string;\r\n    publicCardPacksCount: number; // количество колод\r\n    created: Date;\r\n    updated: Date;\r\n    isAdmin: boolean;\r\n    verified: boolean; // подтвердил ли почту\r\n    rememberMe: boolean;\r\n    error?: string;\r\n}\r\n\r\nexport type ResponseRegisterType = {\r\n    addedUser: {} // чтобы посмотреть как выглядит созданный юзер\r\n    error?: string;\r\n}\r\nexport type UpdateUserResponseType = {\r\n    updatedUser: UserDataResponseType\r\n    error?: string\r\n}\r\nexport type UniversalResponseType = {\r\n    updatedUser: {}\r\n    error?: string\r\n}\r\n\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe?: boolean\r\n    captcha?: string\r\n}\r\nexport type RegisterParamsType = {\r\n    email: string\r\n    password: string\r\n}\r\nexport type UpdateUserParamsType = {\r\n    name: string\r\n    // avatar?: string\r\n}\r\nexport type ForgotPasswordParamsType = {\r\n    email: string // кому восстанавливать пароль\r\n    from: string// можно указать разработчика фронта\r\n    message: string// хтмп-письмо, вместо $token$ бэк вставит токен\r\n}\r\nexport type NewtPasswordParamsType = {\r\n    password: string\r\n    resetPasswordToken: string\r\n}\r\n\r\nexport type ResponseType<D = {}> = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    fieldsErrors: Array<string>\r\n    data: D\r\n}\r\n\r\n\r\n\r\n\r\n","import {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../features/app/app-reducer'\r\nimport {ResponseType} from '../api/cards-login-api'\r\nimport {Dispatch} from 'redux'\r\n\r\nexport const handleServerAppError = <D>(data: ResponseType<D>, dispatch: Dispatch<SetAppErrorActionType | SetAppStatusActionType>) => {\r\n    if (data.messages.length) {\r\n        dispatch(setAppErrorAC(data.messages[0]))\r\n    } else {\r\n        dispatch(setAppErrorAC('Some error occurred'))\r\n    }\r\n    dispatch(setAppStatusAC('failed'))\r\n}\r\n\r\nexport const handleServerNetworkError = (error: { message: string }, dispatch: Dispatch<SetAppErrorActionType | SetAppStatusActionType>) => {\r\n    dispatch(setAppErrorAC(error.message ? error.message : 'Some error occurred'))\r\n    dispatch(setAppStatusAC('failed'))\r\n}\r\n","import {Dispatch} from 'redux'\r\nimport {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../../app/app-reducer'\r\nimport {authAPI, RegisterParamsType,} from \"../../../api/cards-login-api\";\r\nimport { handleServerNetworkError} from \"../../../utils/error-utils\";\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    isRegistered: false,\r\n    serverError:'',\r\n}\r\ntype InitialStateType = {\r\n    isLoggedIn: boolean\r\n    isRegistered: boolean\r\n    serverError:string\r\n}\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: AuthActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'auth/SET-IS-LOGGED-IN':\r\n            return {...state, isLoggedIn: action.value}\r\n        case \"auth/SET-IS-REGISTERED-IN\":\r\n            return {...state, isRegistered: action.value}\r\n        case 'auth/SET-SERVER-ERROR':\r\n            return { ...state, serverError: action.error }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\nexport const setIsLoggedInAC = (value: boolean) =>\r\n    ({type: 'auth/SET-IS-LOGGED-IN', value} as const)\r\nexport const setIsRegisteredAC = (value: boolean) =>\r\n    ({type: 'auth/SET-IS-REGISTERED-IN', value} as const)\r\nexport const setServerErrorAC = (error: string) =>\r\n    ({ type: 'auth/SET-SERVER-ERROR', error } as const)\r\n\r\n\r\n\r\n// thunks\r\nexport const registerTC = (data: RegisterParamsType) => (dispatch: Dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    dispatch(setAppErrorAC(null))\r\n    authAPI.register(data)\r\n        .then(() => {\r\n        dispatch(setIsRegisteredAC(true))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n// types\r\nexport type AuthActionsType =\r\n    | ReturnType<typeof setIsLoggedInAC>\r\n    | ReturnType<typeof setIsRegisteredAC>\r\n    | ReturnType<typeof setServerErrorAC>\r\n    | SetAppStatusActionType\r\n    | SetAppErrorActionType\r\n\r\n","import {Dispatch} from 'redux'\r\nimport {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../../app/app-reducer'\r\nimport {\r\n    authAPI,\r\n    LoginParamsType,\r\n} from \"../../../api/cards-login-api\";\r\nimport { handleServerNetworkError} from \"../../../utils/error-utils\";\r\nimport {setIsLoggedInAC} from \"../registration/auth-reducer\";\r\nimport {setUserAC} from \"../profile/profile-reducer\";\r\n\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    success: false,\r\n    error: '',\r\n}\r\n\r\nexport const loginReducer = (state: InitialStateType = initialState, action: LoginActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'login/SET-SERVER-ERROR': {\r\n            return { error: action.error, loading: false, success: false }\r\n        }\r\n        case 'login/SET-LOADING': {\r\n            return { error: '', loading: action.loading, success: false }\r\n        }\r\n        case 'login/SET-SUCCESS': {\r\n            return { error: '', loading: false, success: action.success }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\n\r\nexport const setIsLoading = (loading: boolean) =>\r\n    ({ type: 'login/SET-LOADING', loading } as const)\r\nexport const setServerErrorAC = (error: string) =>\r\n    ({ type: 'login/SET-SERVER-ERROR', error } as const)\r\nexport const setSuccess = (success: boolean) =>\r\n    ({ type: 'login/SET-SUCCESS', success } as const)\r\n\r\n// thunks\r\nexport const loginTC = (data: LoginParamsType) => (dispatch: Dispatch) => {\r\n    // debugger\r\n    dispatch(setAppStatusAC('loading'))\r\n    dispatch(setAppErrorAC(null))\r\n    authAPI.login(data)\r\n        .then((res)=>{\r\n    dispatch(setAppStatusAC('succeeded'))\r\n    dispatch(setIsLoggedInAC(true))\r\n    dispatch(setUserAC(res.data))\r\n    })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n// types\r\nexport type LoginActionsType =\r\n    | ReturnType<typeof setServerErrorAC>\r\n    | ReturnType<typeof setIsLoading>\r\n    | ReturnType<typeof setSuccess>\r\n    | SetAppStatusActionType\r\n    | SetAppErrorActionType\r\ntype InitialStateType = typeof initialState\r\n\r\n","import {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../../app/app-reducer'\r\nimport {\r\n    authAPI,\r\n    UserDataResponseType\r\n} from \"../../../api/cards-login-api\";\r\nimport {handleServerNetworkError} from \"../../../utils/error-utils\";\r\nimport {AppThunk} from \"../../../api/store\";\r\nimport {setIsLoggedInAC} from \"../registration/auth-reducer\";\r\nimport {setSuccess} from \"../Login/login-reducer\";\r\n\r\nconst initialState = {\r\n    user: {\r\n        _id: '',\r\n        rememberMe: true,\r\n    } as UserDataResponseType,\r\n}\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ProfileActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'profile/SET-USER':\r\n            return {...state, user: action.user}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\nexport const setUserAC = (user: UserDataResponseType) =>\r\n    ({type: 'profile/SET-USER', user,} as const)\r\n\r\n// thunks\r\nexport const updateUserTC = (user: UserDataResponseType): AppThunk => (dispatch) => {\r\n\r\n    dispatch(setAppErrorAC(null))\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.updateUser(user.name)\r\n        .then((res) => {\r\n         console.log(res)\r\n            dispatch(setUserAC(res.data.updatedUser))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\nexport const logoutTC = (): AppThunk => (dispatch) => {\r\n    dispatch(setAppErrorAC(null))\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.logout()\r\n        .then(() => {\r\n            dispatch(setIsLoggedInAC(false))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n            dispatch(setSuccess(false)) ///???????\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n// types\r\nexport type ProfileActionsType =\r\n    | ReturnType<typeof setUserAC>\r\n    | SetAppStatusActionType\r\n    | SetAppErrorActionType\r\ntype InitialStateType = typeof initialState\r\n\r\n","import {AppThunk} from \"../../api/store\";\r\nimport {setIsLoggedInAC} from \"../auth/registration/auth-reducer\";\r\nimport {authAPI} from \"../../api/cards-login-api\";\r\nimport {setUserAC} from \"../auth/profile/profile-reducer\";\r\n\r\nconst initialState: InitialStateType = {\r\n    status: 'idle',\r\n    error: null,\r\n    isInitialized:false\r\n}\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\nexport type InitialStateType = {\r\n    // происходит ли сейчас взаимодействие с сервером\r\n    status: RequestStatusType\r\n    // если ошибка какая-то глобальная произойдёт - мы запишем текст ошибки сюда\r\n    error: string | null\r\n    isInitialized:boolean\r\n}\r\nexport const appReducer = (state: InitialStateType = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'APP/SET-STATUS':\r\n            return {...state, status: action.status}\r\n        case 'APP/SET-ERROR':\r\n            return {...state, error: action.error}\r\n        case \"APP/SET-IS-INITIALIZED-IN\":\r\n            return {...state, isInitialized: action.value}\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n// actions\r\nexport const setAppInitializedAC = (value: boolean) =>\r\n    ({type: 'APP/SET-IS-INITIALIZED-IN', value} as const)\r\nexport const setAppErrorAC = (error: string | null) => ({type: 'APP/SET-ERROR', error} as const)\r\nexport const setAppStatusAC = (status: RequestStatusType) => ({type: 'APP/SET-STATUS', status} as const)\r\n\r\n// thunks\r\nexport const initializeAppTC = (): AppThunk => async (dispatch) => {\r\n    try {\r\n        dispatch(setAppStatusAC('loading'))\r\n        dispatch(setAppErrorAC(null))\r\n        const res = await authAPI.me()\r\n        dispatch(setIsLoggedInAC(true))\r\n        dispatch(setUserAC(res.data))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    } catch (e) {\r\n        dispatch(setAppStatusAC('failed'))\r\n    } finally {\r\n        dispatch(setAppInitializedAC(true))\r\n    }\r\n}\r\n// types\r\nexport type SetAppErrorActionType = ReturnType<typeof setAppErrorAC>\r\nexport type SetAppStatusActionType = ReturnType<typeof setAppStatusAC>\r\n\r\nexport type AppActionsType =\r\n    | ReturnType<typeof setAppInitializedAC >\r\n    | SetAppErrorActionType\r\n    | SetAppStatusActionType\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppRootStateType } from '../../api/store';\r\nimport { setAppErrorAC } from '../../features/app/app-reducer';\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n    props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\n\r\nexport function ErrorSnackbar() {\r\n\r\n    const error = useSelector<AppRootStateType, string | null>(state => state.app.error)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setAppErrorAC(null))\r\n    };\r\n\r\n    return (\r\n        <Snackbar open={error !== null} autoHideDuration={6000} onClose={handleClose}>\r\n            <Alert onClose={handleClose} severity=\"error\" sx={{width: '100%'}}>\r\n                {error}\r\n            </Alert>\r\n        </Snackbar>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport Grid from '@mui/material/Grid';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../../api/store\";\r\nimport {loginTC} from \"./login-reducer\";\r\nimport s from './login.module.css'\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\nexport const Login = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>((state) => state.auth.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n\r\n        },\r\n        validate: (values) => {\r\n            let errors: FormikErrorType = {}\r\n            if (!values.email) {\r\n                errors.email = 'Требуется email'\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Неправильный формат email'\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Требуется пароль'\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Введите пароль больше 3 символов'\r\n            }\r\n\r\n            return errors\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n        if (isLoggedIn) {\r\n            navigate('/')\r\n        }\r\n\r\n    return <form onSubmit={formik.handleSubmit} >\r\n        <Grid container justifyContent={'center'}>\r\n            <Grid className={s.card} style={{marginTop:'60px'}} item justifyContent={'center'} >\r\n                <h1>Sign in</h1>\r\n                <FormControl>\r\n                    <FormGroup>\r\n                        <TextField label=\"Email\"\r\n                                   margin=\"normal\"\r\n                                   variant=\"standard\"\r\n                                   id=\"standard-basic\"\r\n                                   {...formik.getFieldProps('email')}\r\n                                   style={{minWidth: '347px', marginTop:'41px'}}\r\n                        />\r\n                        {formik.touched.email && formik.errors.email &&\r\n                        <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n                        <TextField type=\"password\"\r\n                                   label=\"Password\"\r\n                                   margin=\"normal\"\r\n                                   variant=\"standard\"\r\n                                   id=\"standard-basic\"\r\n                                   {...formik.getFieldProps('password')}\r\n                        />\r\n                        {formik.touched.password && formik.errors.password &&\r\n                        <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                        <FormControlLabel label={'Remember me'}\r\n                                          control={<Checkbox\r\n                                              checked={formik.values.rememberMe}\r\n                                              {...formik.getFieldProps('rememberMe')}/>}\r\n                                          style={{marginTop: '24px'}}\r\n                        />\r\n                        <div style={{textAlign: 'end',marginTop:'29px'}}>\r\n                            <Link to={'/recovery'}>Forgot Password?</Link>\r\n                        </div>\r\n\r\n                        <Button type={'submit'} variant={'contained'} color={'primary'}  style={{marginTop:'69px', borderRadius:'30px'}}>\r\n                            Login\r\n                        </Button>\r\n                        <h6>Already haven't an account?</h6>\r\n                        <div>\r\n                            <Link to={'/registration'} className={s.signUp} >Sign Up</Link>\r\n                        </div>\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </Grid>\r\n        </Grid>\r\n    </form>\r\n}","import React from 'react';\r\n\r\nexport const Error404 = () => {\r\n    return (\r\n        <div>\r\n            <h1>Error 404</h1>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React, { ChangeEvent, useState } from 'react';\r\nimport TextField from '@mui/material/TextField';\r\nimport BorderColorOutlinedIcon from \"@mui/icons-material/BorderColorOutlined\";\r\n\r\ntype EditableSpanPropsType = {\r\n    value: string\r\n    onChange: (newValue: string) => void\r\n}\r\n\r\nexport const EditableSpan = React.memo(function (props: EditableSpanPropsType) {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [title, setTitle] = useState(props.value);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n        setTitle(props.value);\r\n    }\r\n    const activateViewMode = () => {\r\n\r\n        setEditMode(false);\r\n        props.onChange(title);\r\n    }\r\n    const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n    }\r\n\r\n    // return editMode\r\n    //     ? <TextField value={title} onChange={changeTitle} autoFocus onBlur={activateViewMode}/>\r\n    //     // ? <TextField value={title} onChange={changeTitle} autoFocus onBlur={activateViewMode}/>\r\n    //     : <span onDoubleClick={activateEditMode}>{props.value}</span>\r\n    return editMode\r\n        ? <TextField value={title} onChange={changeTitle} autoFocus onBlur={activateViewMode}/>\r\n        : <span>{props.value}\r\n            <BorderColorOutlinedIcon onClick={activateEditMode} fontSize=\"small\"/>\r\n    </span>\r\n});\r\n","export default __webpack_public_path__ + \"static/media/avatar.35369528.jpg\";","import { useDispatch, useSelector } from 'react-redux'\r\nimport type { TypedUseSelectorHook } from 'react-redux'\r\nimport {AppDispatch, AppRootStateType} from \"../api/store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch: () => AppDispatch = useDispatch\r\nexport const useAppSelector: TypedUseSelectorHook<AppRootStateType> = useSelector","import React from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Navigate, useNavigate} from \"react-router-dom\";\r\nimport {EditableSpan} from '../../../components/EditableSpan/EditableSpan';\r\nimport {useFormik} from \"formik\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport Button from \"@mui/material/Button\";\r\nimport avatar from '../../../images/avatar.jpg'\r\nimport {logoutTC, updateUserTC} from \"./profile-reducer\";\r\nimport {useAppSelector} from \"../../../components/hooks\";\r\nimport KeyboardBackspaceOutlinedIcon from '@mui/icons-material/KeyboardBackspaceOutlined';\r\n\r\nexport const Profile = () => {\r\n    const isLoggedIn = useAppSelector((state) => state.auth.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n    const user = useAppSelector(state => state.profile.user)\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const onChangeNameHandler = (name: string) => {\r\n\r\n        dispatch(updateUserTC({...user, name: name}))\r\n    }\r\n    const formik = useFormik({\r\n        initialValues: {},\r\n        validate: (values) => {\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(logoutTC())\r\n        },\r\n    })\r\nconst goToPackListOnClickHandler = () => {\r\n    navigate('/packs')\r\n}\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={'/login'}/>\r\n    }\r\n    // console.log('Profile '+ user)\r\n    // console.log(user)\r\n    return (<div>\r\n            <div style={{margin:'20px 100px'}} onClick={goToPackListOnClickHandler} >\r\n                <KeyboardBackspaceOutlinedIcon fontSize=\"small\"/>\r\n                <span style={{fontSize:'20px'}}>Back to Packs List</span>\r\n            </div>\r\n\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <Grid container justifyContent={'center'}>\r\n                    <Grid item justifyContent={'center'} style={{\r\n                        textAlign: 'center',\r\n                        border: '0.1px solid lightGrey',\r\n                        padding: '33px',\r\n                        backgroundColor: 'white',\r\n                        borderRadius: '10px'\r\n                    }}>\r\n                        <h2>Personal Information </h2>\r\n                        <FormControl>\r\n                            <img src={avatar} alt=\"\" style={{borderRadius: '50%'}}/>\r\n                            <FormGroup>\r\n                                <span>\r\n                                    <EditableSpan value={user?.name} onChange={onChangeNameHandler}/>\r\n                                </span>\r\n                                <div>\r\n                                    {user?.email}\r\n                                </div>\r\n\r\n                                <Button type={'submit'} variant={'contained'} color={'primary'}>\r\n                                    Log out\r\n                                </Button>\r\n\r\n                            </FormGroup>\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n","import {setAppErrorAC, SetAppErrorActionType, setAppStatusAC, SetAppStatusActionType} from '../../app/app-reducer'\r\nimport {authAPI} from \"../../../api/cards-login-api\";\r\nimport { handleServerNetworkError} from \"../../../utils/error-utils\";\r\nimport {AppThunk} from \"../../../api/store\";\r\n\r\nconst initialState = {\r\n    recoveryEmail: '',\r\n    sent:false\r\n}\r\n\r\nexport const passwordRecoveryReducer = (state: InitialStateType = initialState, action: PasswordRecoveryType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'recovery/SET-RECOVERY-EMAIL':\r\n            return { ...state, recoveryEmail: action.email }\r\n        // case 'auth/SET-SERVER-ERROR':\r\n        //     return { ...state, serverError: action.error }\r\n        // case \"login/SET-EMAIL\":\r\n        //     return {...state, email:action.email}\r\n        case \"login/EMAIL-HAS-BEEN-SENT\":\r\n            return {...state, sent:action.sent}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\nexport const setRecoveryEmailAC = (email: string) =>\r\n    ({ type: 'recovery/SET-RECOVERY-EMAIL', email } as const)\r\nexport const emailHasBeenSentAC = (sent: boolean) =>\r\n    ({type: 'login/EMAIL-HAS-BEEN-SENT', sent} as const)\r\n\r\n\r\n// thunks\r\n\r\nexport const passwordRecoveryTC =\r\n    (email: string): AppThunk => (dispatch) => {\r\n                dispatch(setAppErrorAC(null))\r\n                dispatch(setAppStatusAC('loading'))\r\n                dispatch(setRecoveryEmailAC(email))\r\n                authAPI.forgotPassword(email)\r\n                    .then(()=>{\r\n                        dispatch(setAppStatusAC('succeeded'))\r\n                        dispatch(emailHasBeenSentAC(true))\r\n                    })\r\n                    .catch((error) => {\r\n                        handleServerNetworkError(error, dispatch)\r\n                    })\r\n    }\r\n\r\nexport const setNewPasswordTC =\r\n    (password: string, resetPasswordToken: string): AppThunk => (dispatch) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        dispatch(setAppErrorAC(null))\r\n        authAPI.newPassword(password, resetPasswordToken)\r\n            .then(() => {\r\n                dispatch(setAppStatusAC('succeeded'))\r\n            })\r\n            .catch((error) => {\r\n                handleServerNetworkError(error, dispatch)\r\n            })\r\n    }\r\n// types\r\nexport type PasswordRecoveryType =\r\n    | ReturnType<typeof setRecoveryEmailAC>\r\n    | ReturnType<typeof emailHasBeenSentAC>\r\n    | SetAppStatusActionType\r\n    | SetAppErrorActionType\r\ntype InitialStateType = typeof initialState\r\n","import React from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport { useParams} from \"react-router-dom\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useFormik} from \"formik\";\r\nimport {setNewPasswordTC} from \"../recovery/passwordRecovery-reducer\";\r\ntype FormikErrorType = {\r\n    password?: string\r\n}\r\nexport const NewPassword = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const param = useParams<'token'>()\r\n    const resetPasswordToken = param.token\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password: '',\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {}\r\n            if (!values.password) {\r\n                errors.password = 'Требуется пароль'\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Введите пароль больше 3 символов'\r\n            }\r\n            return errors\r\n        },\r\n        onSubmit: values => {\r\n            if (resetPasswordToken) {\r\n                dispatch(setNewPasswordTC(values.password, resetPasswordToken))\r\n            }\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    return (<form onSubmit={formik.handleSubmit}>\r\n            <Grid container justifyContent={'center'}>\r\n                <Grid item justifyContent={'center'} style={{\r\n                    textAlign:'center',\r\n                    border: '0.1px solid lightGrey',\r\n                    padding: '33px',\r\n                    backgroundColor: 'white',\r\n                    borderRadius: '10px',\r\n                    maxWidth:'413px'\r\n                }}>\r\n                    <h2>Create new password</h2>\r\n                    <FormControl>\r\n                        <FormGroup>\r\n\r\n                            <TextField type=\"password\"\r\n                                       label=\"Password\"\r\n                                       margin=\"normal\"\r\n                                       style={{borderColor: 'white'}}\r\n                                       {...formik.getFieldProps('password')}\r\n                            />\r\n                            {formik.touched.password && formik.errors.password &&\r\n                            <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n\r\n                            <p>Create new password and we will send you further instructions to email</p>\r\n\r\n                            <Button type={'submit'} variant={'contained'} color={'primary'}>\r\n                                Create new password\r\n                            </Button>\r\n\r\n                        </FormGroup>\r\n                    </FormControl>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/emailPigen.e33a9a6b.jpg\";","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {AppRootStateType} from \"../../../api/store\";\r\nimport {useFormik} from \"formik\";\r\nimport emailImage from \"../../../images/emailPigen.jpg\";\r\nimport {passwordRecoveryTC} from \"./passwordRecovery-reducer\";\r\n\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n}\r\nexport const Recovery = () => {\r\n    const emailIsSent = useSelector<AppRootStateType, boolean>((state) => state.recovery.sent)\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [emailFromInput,setEmailFromInput]=useState('')\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {}\r\n            if (!values.email) {\r\n                errors.email = 'Требуется email'\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Неправильный формат email'\r\n            }\r\n            return errors\r\n        },\r\n        onSubmit: values => {\r\n            if (values.email) {\r\n                dispatch(passwordRecoveryTC(values.email))\r\n                setEmailFromInput(values.email)\r\n            }\r\n            formik.resetForm()\r\n        },\r\n    })\r\nconst backToLoginOnClickHandler = () => {\r\n    return navigate('/login')\r\n}\r\n\r\n    return (<>\r\n            {!emailIsSent &&\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <Grid container justifyContent={'center'}>\r\n                    <Grid item justifyContent={'center'} style={{\r\n                        textAlign: 'center',\r\n                        border: '0.1px solid lightGrey',\r\n                        padding: '33px',\r\n                        backgroundColor: 'white',\r\n                        borderRadius: '10px',\r\n                        maxWidth: '413px',\r\n                        justifyContent: 'center'\r\n                    }}>\r\n                        <h2>Forgot your password?</h2>\r\n                        <FormControl>\r\n                            <FormGroup>\r\n                                <TextField label=\"Email\"\r\n                                           margin=\"normal\"\r\n                                           {...formik.getFieldProps('email')}\r\n                                />\r\n                                {formik.touched.email && formik.errors.email &&\r\n                                <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n\r\n                                <p>Enter your email address and we will send you further instructions</p>\r\n\r\n                                <Button type={'submit'} variant={'contained'} color={'primary'}>\r\n                                    Send Instructions\r\n                                </Button>\r\n                                <h6>Did you remember your password?</h6>\r\n                                <div>\r\n                                    <Link to={'/login'}>Try logging in</Link>\r\n                                </div>\r\n                            </FormGroup>\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n            }\r\n            {emailIsSent &&\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <Grid container justifyContent={'center'}>\r\n                    <Grid item justifyContent={'center'} style={{\r\n                        textAlign: 'center',\r\n                        border: '0.1px solid lightGrey',\r\n                        padding: '33px',\r\n                        backgroundColor: 'white',\r\n                        borderRadius: '10px',\r\n                        maxWidth: '413px',\r\n                        justifyContent: 'center'\r\n                    }}>\r\n                        <h2>Check Email</h2>\r\n                        <img src={emailImage} alt=\"\" style={{borderRadius: '50%', width: '100px'}}/>\r\n                        <FormControl>\r\n                            <FormGroup>\r\n\r\n                                <p>We’ve sent an Email with instructions to {emailFromInput}</p>\r\n\r\n                                <Button variant={'contained'} color={'primary'} onClick={backToLoginOnClickHandler}>\r\n                                    Back to login\r\n                                </Button>\r\n\r\n                            </FormGroup>\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n            }\r\n        </>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {registerTC} from \"./auth-reducer\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useAppSelector} from \"../../../components/hooks\";\r\nimport s from '../Login/login.module.css'\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    passwordConfirm?:string\r\n}\r\n\r\nexport const Registration = () => {\r\n    const isLoggedIn = useAppSelector((state) => state.auth.isLoggedIn)\r\n    const dispatch = useDispatch()\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            passwordConfirm: ''\r\n\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {}\r\n            if (!values.email) {\r\n                errors.email = 'Требуется email'\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Неправильный формат email'\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Требуется пароль'\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Введите пароль больше 3 символов'\r\n            }\r\n            if (!values.passwordConfirm) {\r\n                errors.passwordConfirm = 'Повторите пароль'\r\n            } else if (values.password.length < 3) {\r\n                errors.passwordConfirm = 'Введите пароль больше 3 символов'\r\n            } else if (values.password!==values.passwordConfirm) {\r\n                errors.passwordConfirm = 'Пароли не совпадают'\r\n            }\r\n\r\n            return errors\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(registerTC(values))\r\n            formik.resetForm()\r\n        },\r\n    })\r\n    if(isLoggedIn){\r\n        return <Navigate to={'/'}/>\r\n    }\r\n    return <form onSubmit={formik.handleSubmit}>\r\n        <Grid container justifyContent={'center'}>\r\n            <Grid item justifyContent={'center'} className={s.card} style={{marginTop:'60px'}}>\r\n                <h1>Sign Up</h1>\r\n                <FormControl>\r\n                    <FormGroup>\r\n                        <TextField label=\"Email\"\r\n                                   margin=\"normal\"\r\n                                   variant=\"standard\"\r\n                                   id=\"standard-basic\"\r\n                                   {...formik.getFieldProps('email')}\r\n                                   style={{minWidth: '347px', marginTop:'41px'}}\r\n                        />\r\n                        {formik.touched.email && formik.errors.email && <div style={{color: 'red'}}>{formik.errors.email}</div>}\r\n\r\n                        <TextField type=\"password\"\r\n                                   label=\"Password\"\r\n                                   margin=\"normal\"\r\n                                   variant=\"standard\"\r\n                                   id=\"standard-basic\"\r\n                                   {...formik.getFieldProps('password')}\r\n                        />\r\n                        {formik.touched.password && formik.errors.password && <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n\r\n                        <TextField type=\"password\"\r\n                                   label=\"Confirm password\"\r\n                                   margin=\"normal\"\r\n                                   variant=\"standard\"\r\n                                   id=\"standard-basic\"\r\n                                   {...formik.getFieldProps('passwordConfirm')}\r\n                        />\r\n                        {formik.touched.passwordConfirm && formik.errors.passwordConfirm && <div style={{color: 'red'}}>{formik.errors.passwordConfirm}</div>}\r\n\r\n\r\n                        <Button type={'submit'} variant={'contained'} color={'primary'} style={{marginTop:'69px', borderRadius:'30px'}}>\r\n                            Sign Up\r\n                        </Button>\r\n                        <h6>Already have account?</h6>\r\n                        <div>\r\n                            <Link to={'/login'} className={s.signUp} >Sign In</Link>\r\n                        </div>\r\n                    </FormGroup>\r\n                </FormControl>\r\n            </Grid>\r\n        </Grid>\r\n    </form>\r\n}","export default __webpack_public_path__ + \"static/media/letsLearn1.74f73154.png\";","import React from 'react';\r\nimport {Link, NavLink, useNavigate} from 'react-router-dom';\r\nimport s from './navbar.module.css'\r\nimport letslearn from './../../images/letsLearn1.png'\r\nimport {useAppSelector} from \"../../components/hooks\";\r\nimport avatar from './../../images/avatar.jpg'\r\n\r\nexport const Navbar = () => {\r\n    const isLoggedIn = useAppSelector((state) => state.auth.isLoggedIn)\r\n    const name = useAppSelector((state) => state.profile.user.name)\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const goToProfileOnClickHandler = () => {\r\n        navigate('/login')\r\n    }\r\n\r\n    return (\r\n        <div className={s.nav}>\r\n            {/*<NavLink to={{pathname:'/'}}>Profile</NavLink>*/}\r\n            {/*<NavLink to={{pathname: 'login'}}>Login</NavLink>*/}\r\n            {/*<NavLink to={{pathname:'recovery'}}>Recovery</NavLink>*/}\r\n            {/*<Link to={'registration'}>Registration</Link>*/}\r\n            <img className={s.letsLearnImg} src={letslearn} alt=\"\"/>\r\n            {/*<Link to={'packs'}>Packs</Link>*/}\r\n            {/*<Link to={'set-new-password/:token'}>NewPassword</Link>*/}\r\n            {/*<Link to={{pathname:'404'}}>Error404</Link>*/}\r\n            {isLoggedIn\r\n                ? <div style={{alignItems:'center', display:'flex'}} onClick={goToProfileOnClickHandler}>\r\n                    <div>{name}</div>\r\n                    <img src={avatar} alt=\"\" style={{width: '45px', borderRadius:'50%', marginLeft:'10px'}}/>\r\n                </div>\r\n                : <button className={s.LogInButton}>\r\n                    <NavLink to={{pathname: 'login'}} className={s.loginNavLink}>Sign in</NavLink>\r\n                </button>\r\n\r\n            }\r\n\r\n        </div>\r\n    );\r\n};\r\n","import axios, {AxiosResponse} from 'axios'\r\n\r\nexport const instance = axios.create({\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n    // baseURL: process.env.REACT_APP_BACK_URL || 'http://localhost:7542/2.0/',\r\n    withCredentials: true,\r\n})\r\n\r\n// api\r\nexport const packsAPI = {\r\n    setPacks(params: PacksGetRequestDataType) {\r\n        return instance.get<PacksGetRequestDataType,AxiosResponse<PacksGetResponseDataType>>('cards/pack', {params});\r\n    },\r\n    createPack(params:CreatePackRequestType) {\r\n        return instance.post<CreatePackRequestType,any>('/cards/pack', params)\r\n    },\r\n    deletePack(id:string) {\r\n        return instance.delete(`/cards/pack`,{ params: { id }})\r\n    },\r\n    updatePack(cardsPack: {\r\n        _id: string,\r\n        name?:string,\r\n        cardCover?:string\r\n    }) {\r\n        return instance.put(`/cards/pack`,{cardsPack})\r\n    },\r\n\r\n    // createTodolist(title: string) {\r\n    //     return instance.post<{ title: string }, AxiosResponse<ResponseType<{ item: TodolistType }>>>('todo-lists', {title});\r\n    // },\r\n    // deleteTodolist(id: string) {\r\n    //     return instance.delete<ResponseType>(`todo-lists/${id}`);\r\n    // },\r\n    // updateTodolist(id: string, title: string) {\r\n    //     return instance.put<{ title: string }, AxiosResponse<ResponseType>>(`todo-lists/${id}`, {title});\r\n    // },\r\n    // getTasks(todolistId: string) {\r\n    //     return instance.get<GetTasksResponse>(`todo-lists/${todolistId}/tasks`);\r\n    // },\r\n    // deleteTask(todolistId: string, taskId: string) {\r\n    //     return instance.delete<ResponseType>(`todo-lists/${todolistId}/tasks/${taskId}`);\r\n    // },\r\n    // createTask(todolistId: string, title: string) {\r\n    //     return instance.post<{ title: string }, AxiosResponse<ResponseType<{ item: TaskType }>>>(`todo-lists/${todolistId}/tasks`, {title});\r\n    // },\r\n    // updateTask(todolistId: string, taskId: string, model: UpdateTaskModelType) {\r\n    //     return instance.put<UpdateTaskModelType, AxiosResponse<ResponseType<{ item: TaskType }>>>(`todo-lists/${todolistId}/tasks/${taskId}`, model);\r\n    // }\r\n\r\n}\r\n\r\n// types\r\nexport type PacksGetRequestType = {\r\n    params: PacksGetRequestDataType\r\n}\r\n\r\nexport type PacksGetRequestDataType = {\r\n    packName?: string // не обязательно\r\n    min?: number // не обязательно\r\n    max?: number // не обязательно\r\n    sortPacks?: number // не обязательно\r\n    page?: number // не обязательно\r\n    pageCount?: number // не обязательно\r\n    user_id?: string// чьи колоды не обязательно, или прийдут все\r\n}\r\nexport type CardPacksType = {\r\n    _id: string\r\n    user_id?: string\r\n    name?: string\r\n    cardsCount?: number\r\n    created?: string\r\n    updated?: string\r\n}\r\n\r\nexport type PacksGetResponseDataType = {\r\n    cardPacks: Array<CardPacksType>\r\n    cardPacksTotalCount: number// количество колод\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number // выбранная страница\r\n    pageCount: number// количество элементов на странице\r\n}\r\n// export type CreatePackRequestType= {\r\n//     cardsPack: {\r\n//         name: string, // если не отправить будет таким\r\n//         deckCover?: string, // не обязателен\r\n//         private?: boolean// если не отправить будет такой\r\n//     }\r\n\r\n    export type CreatePackRequestType= {\r\n    cardsPack: {\r\n        name: string, // если не отправить будет таким\r\n        deckCover?: string, // не обязателен\r\n        private?: boolean// если не отправить будет такой\r\n    }\r\n}\r\nexport type ResponseType<D = {}> = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    fieldsErrors: Array<string>\r\n    data: D\r\n}\r\n// export type CardPackType = {\r\n//     _id: string\r\n//     user_id: string\r\n//     user_name: string\r\n//     private: boolean\r\n//     name: string\r\n//     path: string\r\n//     grade: number\r\n//     shots: number\r\n//     cardsCount: number\r\n//     type: string\r\n//     rating: number\r\n//     created: string\r\n//     updated: string\r\n//     more_id: string\r\n//     __v: number\r\n//     deckCover?: string | null\r\n// }\r\n\r\n","import {setAppStatusAC} from '../app/app-reducer'\r\nimport {handleServerNetworkError} from \"../../utils/error-utils\";\r\nimport {\r\n    CardPacksType,\r\n    CreatePackRequestType,\r\n    packsAPI,\r\n    PacksGetRequestDataType,\r\n    PacksGetResponseDataType\r\n} from \"../../api/packs-api\";\r\nimport {AppThunk} from \"../../api/store\";\r\nimport {AuthActionsType, setIsLoggedInAC} from \"../auth/registration/auth-reducer\";\r\n\r\n\r\nconst initialState = {\r\n    currentPage:1,\r\n    packNameSearch:'',\r\n    user_id:'',\r\n    min:0,\r\n    max:100,\r\n    packsData: {},\r\n    myPacksMode: false,\r\n    newPack: {\r\n        cardsPack: {\r\n            name: \"Dina's \",\r\n            deckCover: \"\",// не обязателен\r\n            private: false,// если не отправить будет такой\r\n        }\r\n    },\r\n    packName:''\r\n} as PacksStateType\r\n\r\ntype PacksStateType = {\r\n    currentPage:number\r\n    packsData: PacksGetResponseDataType\r\n    myPacksMode: boolean\r\n    newPack: CreatePackRequestType\r\n    packNameSearch:string\r\n    user_id:string\r\n    min:number\r\n    max:number\r\n    packName:string\r\n}\r\n\r\nexport const packsReducer = (state: PacksStateType = initialState, action: PacksActionsType): PacksStateType => {\r\n    switch (action.type) {\r\n        case \"packs/SET-PACKS\":\r\n            return {...state, packsData: action.packsData}\r\n        case \"packs/SET-MY-PACKS\":\r\n            return {...state, user_id: action.user_id}\r\n        case \"packs/SET-MIN-MAX-VALUE\":\r\n            return {\r\n                ...state,\r\n                    min: action.min,\r\n                    max: action.max\r\n            }\r\n        case \"packs/CREATE-PACK\":\r\n            return {...state, newPack: action.newPack}\r\n        case \"packs/SET-PACK-NAME-FOR-SEARCH\":\r\n            return {...state, packNameSearch: action.packNameSearch}\r\n        case 'packs/SET-CURRENT-PAGE':\r\n            // debugger\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\n\r\nexport const setPacksAC = (packsData: PacksGetResponseDataType) =>\r\n    ({type: 'packs/SET-PACKS', packsData} as const)\r\nexport const setMinMaxValueAC = (min: number, max: number) =>\r\n    ({type: \"packs/SET-MIN-MAX-VALUE\", min, max} as const)\r\nexport const setPackNameForSearchAC = (packNameSearch:string) =>\r\n    ({type: \"packs/SET-PACK-NAME-FOR-SEARCH\", packNameSearch} as const)\r\nexport const setMyPacksAC = (user_id:string) =>\r\n    ({type: \"packs/SET-MY-PACKS\", user_id} as const)\r\nexport const createNewPackAC = (newPack: CreatePackRequestType) =>\r\n    ({type: 'packs/CREATE-PACK', newPack} as const)\r\nexport const setCurrentPageAC = (currentPage:number) =>\r\n    ({type: 'packs/SET-CURRENT-PAGE',currentPage} as const)\r\n\r\n\r\n\r\n// thunks\r\n\r\nexport const setPacksTC = (packsData: PacksGetRequestDataType): AppThunk => (dispatch) => {\r\n    // debugger\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.setPacks(packsData)\r\n        .then((res) => {\r\n            dispatch(setPacksAC(res.data))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n// export const setPacksTC = (packsData: PacksGetRequestDataType): AppThunk => (dispatch, getState) => {\r\n//     // debugger\r\n//     dispatch(setAppStatusAC('loading'))\r\n//     packsAPI.setPacks({\r\n//         packName: getState().packs.packNameSearch,\r\n//         min: getState().packs.min,\r\n//         max: getState().packs.max,\r\n//         sortPacks: packsData?.sortPacks,\r\n//         page: packsData.page,\r\n//         pageCount: packsData.pageCount,\r\n//         user_id: getState().packs.user_id,\r\n//     })\r\n//\r\n//         .then((res) => {\r\n//             dispatch(setPacksAC(res.data))\r\n//             dispatch(setAppStatusAC('succeeded'))\r\n//         })\r\n//         .catch((error) => {\r\n//             handleServerNetworkError(error, dispatch)\r\n//         })\r\n// }\r\nexport const createPacksTC = (newPack: CreatePackRequestType): AppThunk => (dispatch) => {\r\n    // debugger\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.createPack(newPack)\r\n        .then((res) => {\r\n            dispatch(createNewPackAC(res.data))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\nexport const deletePackTC = (id:string): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.deletePack(id)\r\n        .then(() => {\r\n            dispatch(setPacksTC({}))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\nexport const updatePackTC = (cardsPack: CardPacksType): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.updatePack(cardsPack)\r\n        .then(() => {\r\n            dispatch(setPacksTC({}))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n\r\n\r\n// types\r\nexport type PacksActionsType =\r\n    | ReturnType<typeof setPacksAC>\r\n    | ReturnType<typeof setMinMaxValueAC>\r\n    | ReturnType<typeof createNewPackAC>\r\n    | ReturnType<typeof setIsLoggedInAC>\r\n    | ReturnType<typeof setPackNameForSearchAC>\r\n    | ReturnType<typeof setMyPacksAC>\r\n    | ReturnType<typeof setCurrentPageAC>\r\n    | AuthActionsType\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setPackNameForSearchAC} from \"../../packs-reducer\";\r\nimport {Box} from \"@mui/material\";\r\nimport { useDebounce } from 'use-debounce';\r\nimport {useAppSelector} from \"../../../../components/hooks\";\r\n\r\nexport const PackSearch = () => {\r\n    const dispatch = useDispatch()\r\n    const packNameSearch = useAppSelector(state => state.packs.packNameSearch)\r\n    const [name, setName] = useState('');\r\n    const [debounceValue] = useDebounce(name, 300);\r\n\r\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setName(event.target.value);\r\n\r\n    };\r\n    useEffect(() => {\r\n        if (debounceValue) {\r\n            dispatch(setPackNameForSearchAC(debounceValue))\r\n        }\r\n    }, [dispatch, debounceValue])\r\n\r\n    return (\r\n        <Box component=\"form\"\r\n             sx={{'& > :not(style)': {width: 300, },}}\r\n             noValidate\r\n             autoComplete=\"off\">\r\n            <input type=\"text\" value={packNameSearch} placeholder={\"Provide your text\"} onChange={handleChange} style={{maxWidth: '413px',\r\n                padding: '8px'}}/>\r\n        </Box>\r\n    )\r\n}","import React from 'react';\r\nimport {setMyPacksAC} from \"../../packs-reducer\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../../components/hooks\";\r\nimport {Button} from \"@mui/material\";\r\n\r\nexport const MyAllPacksSwitch = () => {\r\n    const myPackId = useAppSelector(state => state.packs.user_id)\r\n    const dispatch = useAppDispatch()\r\n\r\n    const setMyPacksOnClickHandler = () => {\r\n        dispatch(setMyPacksAC('6226057a0373a3000426a62d'))\r\n    }\r\n    const setAllPacksOnClickHandler = () => {\r\n        dispatch(setMyPacksAC(''))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n                <Button variant={myPackId ==='' ? 'outlined' : 'contained'} onClick={setMyPacksOnClickHandler} style={{maxWidth:'96px'}}>My</Button>\r\n                <Button variant={myPackId ==='' ? 'contained' : 'outlined'} onClick={setAllPacksOnClickHandler} style={{maxWidth:'96px'}}>All</Button>\r\n        </div>\r\n    );\r\n};\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Box, Slider} from \"@mui/material\";\r\nimport {setMinMaxValueAC} from \"../../packs-reducer\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../../components/hooks\";\r\nimport { useDebounce } from 'use-debounce';\r\n\r\n\r\n    export const DoubleSlider = () => {\r\n        const min = useAppSelector(state => state.packs.min)\r\n        const max = useAppSelector(state => state.packs.max)\r\n        const [value, setValue] = useState<number[]>([0, 100]);\r\n\r\n        const dispatch = useAppDispatch()\r\n        const [debounceValue] = useDebounce(value, 500);\r\n\r\n        const handleChange = (event: Event, newValue: number | number[]) => {\r\n            setValue(newValue as number[]);\r\n\r\n        };\r\n        useEffect(() => {\r\n            if (debounceValue) {\r\n                dispatch(setMinMaxValueAC(+debounceValue[0],+debounceValue[1]))\r\n            }\r\n        }, [debounceValue, dispatch])\r\n// console.log(+debounceValue[0],+debounceValue[1])\r\n        return (\r\n            <Box sx={{ width: 155 }}>\r\n                <Slider\r\n                    value={[min,max]}\r\n                    onChange={handleChange}\r\n                    valueLabelDisplay=\"on\"\r\n                />\r\n            </Box>\r\n        );\r\n    }","import React from 'react';\r\nimport {useAppDispatch} from \"../../../../components/hooks\";\r\nimport {\r\n    setCurrentPageAC,\r\n    setMinMaxValueAC,\r\n    setMyPacksAC,\r\n    setPackNameForSearchAC,\r\n} from \"../../packs-reducer\";\r\nimport FilterAltOffOutlinedIcon from \"@mui/icons-material/FilterAltOffOutlined\";\r\n\r\n\r\nexport const ResetFilter = () => {\r\n    const dispatch = useAppDispatch()\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(setMinMaxValueAC(0,100))\r\n        dispatch(setPackNameForSearchAC(''))\r\n        dispatch(setMyPacksAC(''))\r\n        // dispatch(setPacksTC({}))\r\n        dispatch(setCurrentPageAC(1))\r\n    }\r\n    return (\r\n        <div onClick={onClickHandler} style={{cursor: 'pointer'}}><FilterAltOffOutlinedIcon/></div>\r\n    );\r\n};","import React from 'react';\r\nimport {PackSearch} from \"./pack-search/PackSearch\";\r\nimport {MyAllPacksSwitch} from \"./pack-My-All/MyAllPacksSwitch\";\r\nimport {DoubleSlider} from \"./pack-slider/DoubleSlider\";\r\nimport {ResetFilter} from \"./resetFilter/ResetFilter\";\r\n\r\nconst FilterPanel = () => {\r\n    return (\r\n        <div style={{\r\n            maxWidth: '65%',\r\n            justifyContent: 'space-between',\r\n            display: 'flex',\r\n            left: '18%',\r\n            position: 'relative',\r\n            marginBottom: '30px'\r\n        }}>\r\n            <PackSearch/>\r\n            <MyAllPacksSwitch/>\r\n            <DoubleSlider/>\r\n            <ResetFilter/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilterPanel;","import * as React from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport {useAppDispatch, useAppSelector} from \"../../../components/hooks\";\r\nimport {deletePackTC, updatePackTC} from \"../packs-reducer\";\r\nimport SchoolOutlinedIcon from '@mui/icons-material/SchoolOutlined';\r\nimport DeleteForeverOutlinedIcon from '@mui/icons-material/DeleteForeverOutlined';\r\nimport BorderColorOutlinedIcon from '@mui/icons-material/BorderColorOutlined';\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\n\r\nexport const PacksTable = () => {\r\n    const dispatch = useAppDispatch()\r\n    const packs = useAppSelector(state => state.packs.packsData)\r\n    const myUserId = '6226057a0373a3000426a62d'\r\n    const navigate = useNavigate()\r\n\r\n    const deletePackOnClickHandler = (id: string) => {\r\n        dispatch(deletePackTC(id))\r\n    }\r\n    const editPackOnClickHandler = (_id: string) => {\r\n        dispatch(updatePackTC({\r\n                _id,\r\n                name: \"new name for Dinas pack\",\r\n            }\r\n        ))\r\n    }\r\n\r\n\r\n    return (<div style={{\r\n            maxWidth: '65%',\r\n            justifyContent: 'space-around',\r\n            display: 'flex',\r\n            position: 'relative',\r\n            left: '18%'\r\n        }}>\r\n            <TableContainer component={Paper}>\r\n                <Table style={{left: '50%', top: '50%'}}\r\n                    // sx={{maxWidth: 900}}\r\n                       aria-label=\"simple table\">\r\n                    <TableHead style={{backgroundColor: '#EFEFEF'}}>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell align=\"center\">Cards</TableCell>\r\n                            <TableCell align=\"center\">Last Updated</TableCell>\r\n                            <TableCell align=\"center\">Created by</TableCell>\r\n                            <TableCell align=\"center\">Actions</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {packs?.cardPacks?.map((pack) =>{\r\n\r\n                            const onClickNamePack = () => {\r\n                                navigate(`/cards_list/${pack._id}`)\r\n                            }\r\n                            return <TableRow\r\n                                key={pack._id}\r\n                                sx={{'&:last-child td, &:last-child th': {border: 0}}}\r\n                            >\r\n                                <TableCell component=\"th\" scope=\"row\" onClick={onClickNamePack}>\r\n                                    {pack.name}\r\n                                </TableCell>\r\n\r\n                                <TableCell align=\"right\">{pack.cardsCount}</TableCell>\r\n                                <TableCell align=\"right\">{pack.updated}</TableCell>\r\n                                <TableCell align=\"right\">{pack.user_id}</TableCell>\r\n                                <TableCell align=\"left\">\r\n                                    <SchoolOutlinedIcon/>\r\n                                    {pack.user_id === myUserId &&\r\n                                    <>\r\n                                        <BorderColorOutlinedIcon onClick={() => editPackOnClickHandler(pack._id)}/>\r\n                                        <DeleteForeverOutlinedIcon onClick={() => deletePackOnClickHandler(pack._id)}/>\r\n                                    </>\r\n                                    }\r\n\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {Box, MenuItem, Pagination, Select, SelectChangeEvent} from \"@mui/material\";\r\nimport s from './../packs/paclk-table/packTable.module.css'\r\nimport FilterPanel from \"./filterPanel/FilterPanel\";\r\nimport {useAppDispatch, useAppSelector} from \"../../components/hooks\";\r\nimport {createPacksTC, setCurrentPageAC, setPacksTC} from \"./packs-reducer\";\r\nimport {PacksTable} from \"./paclk-table/packs-table\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../api/store\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nexport const Packs = () => {\r\n\r\n    const packNameSearch = useAppSelector(state => state.packs.packNameSearch)\r\n    const newPack = useAppSelector(state => state.packs.newPack)\r\n    const packId = useAppSelector(state => state.packs.user_id)\r\n    const min = useAppSelector(state => state.packs.min)\r\n    const max = useAppSelector(state => state.packs.max)\r\n    const currentPage = useAppSelector(state => state.packs.currentPage)\r\n    let cardPacksTotalCount = useAppSelector(state => state.packs.packsData.cardPacksTotalCount)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>((state) => state.auth.isLoggedIn)\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const dispatch = useAppDispatch()\r\n    const [packsOnPage, setPacksOnPage] = useState('5');\r\n    const pagesCount = Math.ceil(cardPacksTotalCount / +packsOnPage)\r\n\r\n    useEffect(() => {\r\n        dispatch(setPacksTC(\r\n            {\r\n                pageCount: +packsOnPage,\r\n                user_id: packId,\r\n                page: currentPage,\r\n                min,\r\n                max,\r\n                packName: packNameSearch,\r\n                sortPacks: 1,\r\n            }\r\n        ))\r\n    }, [dispatch, min, max, packNameSearch, packId, newPack, packsOnPage, currentPage])\r\n\r\n    const createPackOnClickHandler = () => {\r\n        dispatch(createPacksTC(newPack))\r\n    }\r\n\r\n    const handleChange = (event: SelectChangeEvent) => {\r\n        setPacksOnPage(event.target.value as string);\r\n    };\r\n    // const [page, setPage] = useState<number>(1);\r\n    const handlePaginationChange = (event: ChangeEvent<any>, value: number) => {\r\n        // setPage(value);\r\n        dispatch(setCurrentPageAC(value))\r\n    };\r\n\r\n    if (!isLoggedIn) {\r\n        navigate('/login')\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={s.newPackPanel}>\r\n                <h2>Packs list</h2>\r\n                <button className={s.newPackButton} onClick={createPackOnClickHandler}>Add new pack</button>\r\n            </div>\r\n            <FilterPanel/>\r\n            <PacksTable/>\r\n            <div className={s.paginationWrapper}>\r\n                <Pagination count={pagesCount} shape=\"rounded\" page={currentPage} onChange={handlePaginationChange}/>\r\n                <span>Show</span>\r\n                <Box sx={{minWidth: 120}} style={{minWidth: '80px'}}>\r\n                    <FormControl sx={{m: 1, minWidth: 60}} style={{margin: '-8px 10px'}} size=\"small\">\r\n                        <Select value={packsOnPage} onChange={handleChange}>\r\n                            <MenuItem value={10}>10</MenuItem>\r\n                            <MenuItem value={20}>20</MenuItem>\r\n                            <MenuItem value={30}>30</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </Box>\r\n                <span>Packs per Page</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAWQAAAFkBqp2phgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAESSURBVDiNndG7LsRhEAXwn2tJ5ZpsZKNCgmyFhkIlClGQ2MoTiFKDZB+CB9CQKNUkIiiITrUhLnHZRCReQPGfZbN2N7tOMsWcOXPmm2+ojdWIf6EbHxHd1UQtNQzW8YRbDOK0kemteMQoRvCMtkYMlnFckp9gqZKwCXOYQC96JPsOIYuj0M1jT7LOO97wioumSG5wGGQB93gpG9aPAXShD4sYh+lozDaw4kr0zBSJYdxhu47mNTxgrLzQhyvkajTncB3ailjw+3GVcBSaHzSXCSZxXsPgUnKxugzS2I9IB3eGqWru7fiSnGlLcs6NiAI2o/YV2j/I4BN5HCBVUksFlw9NppJBJ3YxW+2JUdtBR5H4BnH3Ni4KExnBAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAWQAAAFkBqp2phgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFTSURBVDiNlZI/S0JhFMZ/50XvvVHklEUEtho15SCBguBUUzQ4C0HfwaEp8Cv4HWpuadDr5NIgUY1BVKhQ0nCJvHRPQxrX8u/Zznmf53l/L+eFCaU1p6g1pzhJI2PN9aUV1H8EBD+SkLzXHqUz46/vnQAOYBP1j+ci0CoRjP0AbPRHLyx+bkoKfzYCYx2FzADreNbhSAJ17X1U0hhdQ1kFjYMkgdgf7TvoPUgHoU0gLUQboq7dBuLj3jilOoZACiDd+b3SJZCCAGjd2gK5REnM6H7GBAeS8ZsGQLK9O74iaZDrGcw3BCYtGb8JoS1Izmshwdl0cj2V3MfToB1eYyB7UwPUpMPtcIAwPQAd0vwG6C0WsBs68xAtIVoCvNA81df+IXiL7vDz90HkHExSsr2yZHtlMEmUi75ygdfo9n+wK2Lq2hWtOvmx8FUnr65d0QbLg9k3QflombXow/oAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport emptyStar from '../../../images/emptyStar.png'\r\nimport goldStar from '../../../images/goldStart.png'\r\n\r\ntype PropsType = {\r\n    grades: number\r\n}\r\n\r\nexport const Stars = ({grades}: PropsType) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/*{cards.map((card, i) => {*/}\r\n            {/*return <img src={goldStar}  key={i} alt=\"\" style={{marginRight: '5px'}}/>*/}\r\n            {/*})}*/}\r\n            {Math.floor(grades) === 0 &&\r\n            <>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\"/>\r\n            </>\r\n\r\n            }\r\n            {Math.floor(grades) === 1 &&\r\n            <>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\"/>\r\n            </>\r\n            }\r\n            {Math.floor(grades) === 2 &&\r\n            <>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\"/>\r\n            </>\r\n            }\r\n            {Math.floor(grades) === 3 &&\r\n            <>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\"/>\r\n            </>\r\n            }\r\n            {Math.floor(grades) === 4 &&\r\n            <>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={emptyStar} alt=\"\"/>\r\n            </>\r\n            }\r\n            {Math.floor(grades) === 5 &&\r\n            <>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\" style={{marginRight: '5px'}}/>\r\n                <img src={goldStar} alt=\"\"/>\r\n            </>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n","import {setAppStatusAC} from '../app/app-reducer'\r\nimport {handleServerNetworkError} from \"../../utils/error-utils\";\r\nimport {cardsAPI, CardsGetRequestDataType, CardsStateType, CardType, CreateCardRequestType,} from \"../../api/cards-api\";\r\nimport {AppThunk} from \"../../api/store\";\r\nimport {AuthActionsType} from \"../auth/registration/auth-reducer\";\r\n\r\n\r\nconst initialState = {\r\n    cards: [] as CardsStateType,\r\n    cardsPack_id: '',\r\n    cardAnswer: '',\r\n    cardQuestion: '',\r\n    min: 0,\r\n    max: 5,\r\n    sortCards: '0updated',\r\n    page: 1,\r\n    pageCount: 5,\r\n    cardsTotalCount: 0,\r\n    currentPage: 1,\r\n    newCard: {\r\n        card: {\r\n            cardsPack_id: \"\",\r\n            question: 'нужно что-то спросить?',\r\n            answer: \"какой-то ответ\",\r\n            grade: 2,\r\n        }\r\n    },\r\n\r\n}\r\n\r\n\r\nexport const cardsReducer = (state: InitialStateType = initialState, action: CardsActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"cards/SET-CARDS\":\r\n            return {...state, cards: action.cards}\r\n        case \"cards/SET-CARDS-TOTAL-COUNT\":\r\n            return {...state, cardsTotalCount: action.cardsTotalCount}\r\n        case \"cards/SET-PAGE\":\r\n            return {...state, page: action.page}\r\n        case \"cards/CREATE-NEW-CARD\":\r\n            return <InitialStateType>{...state, newCard: action.newCard}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// actions\r\n\r\nexport const setCardsAC = (cards: CardsStateType) =>\r\n    ({type: 'cards/SET-CARDS', cards} as const)\r\nexport const setCardsTotalCountAC = (cardsTotalCount: number) =>\r\n    ({type: 'cards/SET-CARDS-TOTAL-COUNT', cardsTotalCount} as const)\r\nexport const setCardPageAC = (page:number) =>\r\n    ({type: 'cards/SET-PAGE',page} as const)\r\nexport const createNewCardAC = (newCard:CreateCardRequestType) =>\r\n    ({type: 'cards/CREATE-NEW-CARD',newCard} as const)\r\n\r\n\r\n\r\n// thunks\r\n\r\nexport const setCardsTC = (cardsPack_id: string): AppThunk => (dispatch, getState) => {\r\n    const { cardAnswer,\r\n    cardQuestion,\r\n    min,\r\n    max,\r\n    sortCards,\r\n    page,\r\n    pageCount} = getState().cards\r\n    const cardsData: CardsGetRequestDataType = {\r\n        cardAnswer,\r\n        cardQuestion,\r\n        cardsPack_id,\r\n        min,\r\n        max,\r\n        sortCards,\r\n        page,\r\n        pageCount\r\n    }\r\n    dispatch(setAppStatusAC('loading'))\r\n    // cardsAPI.setCards({cardsPack_id})\r\n    cardsAPI.setCards(cardsData)\r\n        .then((res) => {\r\n            dispatch(setCardsAC(res.data.cards))\r\n            dispatch(setCardsTotalCountAC(res.data.cardsTotalCount))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\nexport const createCardsTC = (newCard: CreateCardRequestType): AppThunk => (dispatch) => {\r\n    // debugger\r\n    dispatch(setAppStatusAC('loading'))\r\n    cardsAPI.createCard(newCard)\r\n        .then(() => {\r\n            dispatch(setCardsTC(newCard.card.cardsPack_id))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\nexport const deletePackTC = (id:string,cardsPack_id:string): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n   cardsAPI.deleteCard(id)\r\n        .then(() => {\r\n            dispatch(setCardsTC(cardsPack_id))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\nexport const updateCardTC = (card: CardType): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    cardsAPI.updateCard(card)\r\n        .then(() => {\r\n            dispatch(setCardsTC(card.cardsPack_id))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        })\r\n        .catch((error) => {\r\n            handleServerNetworkError(error, dispatch)\r\n        })\r\n}\r\n\r\n\r\n// types\r\nexport type CardsActionsType =\r\n    | ReturnType<typeof setCardsAC>\r\n    | ReturnType<typeof setCardsTotalCountAC>\r\n    | ReturnType<typeof setCardPageAC>\r\n    | ReturnType<typeof createNewCardAC>\r\n    | AuthActionsType\r\ntype InitialStateType = typeof initialState\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as React from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport {useAppDispatch, useAppSelector} from \"../../../components/hooks\";\r\nimport DeleteForeverOutlinedIcon from '@mui/icons-material/DeleteForeverOutlined';\r\nimport BorderColorOutlinedIcon from '@mui/icons-material/BorderColorOutlined';\r\nimport {Stars} from \"./Stars\";\r\nimport {deletePackTC, updateCardTC} from \"../cards-reducer\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\n\r\nexport const CardsTable = () => {\r\n    const dispatch = useAppDispatch()\r\n    const params = useParams()\r\n\r\n    const cards = useAppSelector(state => state.cards.cards)\r\n    const myUserId = '6226057a0373a3000426a62d'\r\n    const packId = params.packId ? params.packId : ''\r\n\r\n    const deleteCardOnClickHandler = (_id: string) => {\r\n        dispatch(deletePackTC(_id, packId))\r\n\r\n    }\r\n    const editCardOnClickHandler = (_id: string) => {\r\n        dispatch(updateCardTC(\r\n        {\r\n            _id,\r\n                cardsPack_id: packId,\r\n            grade: 2,\r\n            question: 'updated question?',\r\n        }\r\n    ))\r\n    }\r\n\r\n    return (<div style={{\r\n            maxWidth: '65%',\r\n            justifyContent: 'space-around',\r\n            display: 'flex',\r\n            position: 'relative',\r\n            left: '18%'\r\n        }}>\r\n            <TableContainer component={Paper}>\r\n                <Table style={{left: '50%', top: '50%'}}\r\n                    // sx={{maxWidth: 900}}\r\n                       aria-label=\"simple table\">\r\n                    <TableHead style={{backgroundColor: '#EFEFEF'}}>\r\n                        <TableRow>\r\n                            <TableCell>Question</TableCell>\r\n                            <TableCell align=\"left\">Answer</TableCell>\r\n                            <TableCell align=\"left\">Last Updated</TableCell>\r\n                            <TableCell align=\"left\">Grade</TableCell>\r\n                            <TableCell align=\"left\">Actions</TableCell>\r\n\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {cards?.map((card) => {\r\n                            return <TableRow\r\n                                key={card._id}\r\n                                sx={{'&:last-child td, &:last-child th': {border: 0}}}\r\n                            >\r\n                                <TableCell component=\"th\" scope=\"row\">{card.question}</TableCell>\r\n                                <TableCell align=\"left\">{card.answer}</TableCell>\r\n                                <TableCell align=\"left\">{card.updated}</TableCell>\r\n                                <TableCell align=\"left\">\r\n                                    <Stars grades={card.grade}/>\r\n\r\n                                </TableCell>\r\n                                <TableCell align=\"left\">\r\n                                    {card.user_id === myUserId &&\r\n                                    <>\r\n                                        <BorderColorOutlinedIcon onClick={() => editCardOnClickHandler(card._id)}/>\r\n                                        <DeleteForeverOutlinedIcon onClick={() => deleteCardOnClickHandler(card._id)}/>\r\n                                    </>\r\n                                    }\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport {ChangeEvent, useEffect, useState} from \"react\";\r\nimport s from './../packs/paclk-table/packTable.module.css'\r\nimport {useAppDispatch, useAppSelector} from \"../../components/hooks\";\r\nimport {CardsTable} from \"./cards-table/cards-table\";\r\nimport {createCardsTC, setCardPageAC, setCardsTC} from \"./cards-reducer\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {Box, MenuItem, Pagination, Select, SelectChangeEvent} from \"@mui/material\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\n\r\n\r\nexport const Cards = () => {\r\n\r\n        const dispatch = useAppDispatch()\r\n        const navigate = useNavigate()\r\n        const params = useParams()\r\n        const packId = params.packId ? params.packId : ''\r\n        const myUserId = '6226057a0373a3000426a62d';\r\n        const isLoggedIn = useAppSelector((state) => state.auth.isLoggedIn)\r\n        const page = useAppSelector((state) => state.cards.page)\r\n        const cardsTotalCount = useAppSelector((state) => state.cards.cardsTotalCount)\r\n        const currentPackName = useAppSelector((state) => state.packs.packsData.cardPacks?.find((n) => n._id === packId))\r\n        const myCards = useAppSelector((state) => state.packs.packsData.cardPacks?.filter((n) => n.user_id === myUserId))\r\n        const currentPack = useAppSelector((state) => state.packs.packsData.cardPacks?.find((n) => n._id === packId))\r\n\r\n        const packIsEmpty = (cardsTotalCount === 0)\r\n\r\n\r\n        const [cardsOnPage, setCardsOnPage] = useState('4');\r\n        const pagesCount = Math.ceil(cardsTotalCount / +cardsOnPage)\r\n\r\n\r\n        useEffect(() => {\r\n                dispatch(setCardsTC(packId))\r\n            }, [dispatch, cardsTotalCount, packId, page, currentPack]\r\n        )\r\n\r\n        const createCardOnClickHandler = () => {\r\n            dispatch(createCardsTC({\r\n                card:{\r\n                    cardsPack_id: packId,\r\n                    question: 'New card?',\r\n                    answer: \"Yes\",\r\n                    grade:4,\r\n                }}))\r\n        };\r\n\r\n        const handleChange = (event: SelectChangeEvent) => {\r\n            setCardsOnPage(event.target.value as string);\r\n        };\r\n\r\n        const handlePaginationChange = (event: ChangeEvent<any>, value: number) => {\r\n            dispatch(setCardPageAC(value))\r\n        };\r\n\r\n        if (!isLoggedIn) {\r\n            navigate('/login')\r\n        }\r\n\r\n        console.log('myCards',myCards)\r\n\r\n// const createPackOnClickHandler = () => {\r\n//     dispatch(createPacksTC(newPack))\r\n// }\r\n//\r\n// const handleChange = (event: SelectChangeEvent) => {\r\n//     setPageCount(event.target.value as string);\r\n// };\r\n// // const [page, setPage] = useState<number>(1);\r\n// const handlePaginationChange = (event: ChangeEvent<any>, value: number) => {\r\n//     // setPage(value);\r\n//     dispatch(setCurrentPageAC(value))\r\n// };\r\n        return (\r\n            <div>\r\n                <div className={s.newPackPanel}>\r\n                    <h2>{currentPackName?.name}</h2>\r\n                    {myCards &&\r\n                    <button className={s.newPackButton} onClick={createCardOnClickHandler}>Add new card\r\n                    </button>\r\n                    }\r\n                </div>\r\n                {packIsEmpty &&\r\n                <div style={{textAlign: 'center'}}>\r\n                    <div>This pack is empty. Click \"Add new card\" to fill this pack</div>\r\n                    <button className={s.newPackButton} onClick={createCardOnClickHandler}>Add new card</button>\r\n                </div>\r\n                }\r\n                {/*<FilterPanel/>*/}\r\n                {!packIsEmpty &&\r\n                <>\r\n                    <CardsTable/>\r\n                    <div className={s.paginationWrapper}>\r\n                        <Pagination count={pagesCount} shape=\"rounded\" page={page} onChange={handlePaginationChange}/>\r\n                        <span>Show</span>\r\n                        <Box sx={{minWidth: 120}} style={{minWidth: '80px'}}>\r\n                            <FormControl sx={{m: 1, minWidth: 60}} style={{margin: '-8px 10px'}} size=\"small\">\r\n                                <Select value={cardsOnPage} onChange={handleChange}>\r\n                                    <MenuItem value={10}>10</MenuItem>\r\n                                    <MenuItem value={20}>20</MenuItem>\r\n                                    <MenuItem value={30}>30</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Box>\r\n                        <span>cards per Page</span>\r\n                    </div>\r\n                </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n;\r\n","import React, {useEffect} from 'react'\r\nimport './App.css'\r\nimport {ErrorSnackbar} from '../../components/ErrorSnackbar/ErrorSnackbar'\r\nimport {Login} from \"../auth/Login/Login\";\r\nimport {Navigate, Route, Routes} from \"react-router-dom\";\r\nimport {Error404} from \"../404/Error404\";\r\nimport {Profile} from \"../auth/profile/Profile\";\r\nimport {NewPassword} from \"../auth/newPassword/NewPassword\";\r\nimport {Recovery} from \"../auth/recovery/Recovery\";\r\nimport {Registration} from \"../auth/registration/Registration\";\r\nimport {Navbar} from \"../navbar/Navbar\";\r\nimport {useAppDispatch, useAppSelector} from \"../../components/hooks\";\r\nimport {initializeAppTC, setAppInitializedAC} from \"./app-reducer\";\r\nimport {Packs} from \"../packs/Packs\";\r\nimport {Cards} from \"../cards/Cards\";\r\n\r\nexport const App = () => {\r\n    const dispatch = useAppDispatch()\r\n    const isInitialized = useAppSelector((state) => state.app.isInitialized)\r\n    //const error = useAppSelector((state) => state.app.error)\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeAppTC())\r\n\r\n        return () => {\r\n            dispatch(setAppInitializedAC(false))\r\n        }\r\n    }, [dispatch])\r\n\r\n\r\n    if (!isInitialized) {\r\n        return (\r\n            <div style={{ position: 'fixed', top: '30%', textAlign: 'center', width: '100%' }}>\r\n                <div>ОЖИДАЕМ ИДЕТ СОЕДИНЕНИЕ С СЕРВЕРОМ</div>\r\n                <p>...is loading</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return <div className=\"App\">\r\n        <ErrorSnackbar/>\r\n        <Navbar/>\r\n        <Routes>\r\n            <Route path='/' element={<Profile/>}/>\r\n            <Route path='login' element={<Login/>}/>\r\n            <Route path='newpass' element={<NewPassword/>}/>\r\n            <Route path='recovery' element={<Recovery/>}/>\r\n            <Route path='registration' element={<Registration/>}/>\r\n            <Route path='set-new-password/:token' element={<NewPassword/>}/>\r\n            <Route path='packs' element={<Packs/>}/>\r\n            <Route path={'/cards_list/:packId'} element={<Cards/>} />\r\n            <Route path='404' element={<Error404/>}/>\r\n            <Route path='*' element={<Navigate to='/404'/>}/>\r\n        </Routes>\r\n\r\n    </div>\r\n}\r\n\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport thunkMiddleware, {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {AppActionsType, appReducer} from '../features/app/app-reducer'\r\nimport {AuthActionsType, authReducer} from \"../features/auth/registration/auth-reducer\";\r\nimport {PacksActionsType, packsReducer} from \"../features/packs/packs-reducer\";\r\nimport {LoginActionsType, loginReducer} from \"../features/auth/Login/login-reducer\";\r\nimport {ProfileActionsType, profileReducer} from \"../features/auth/profile/profile-reducer\";\r\nimport {passwordRecoveryReducer, PasswordRecoveryType} from \"../features/auth/recovery/passwordRecovery-reducer\";\r\nimport {CardsActionsType, cardsReducer} from \"../features/cards/cards-reducer\";\r\n\r\nexport type AppStoreType = ReturnType<typeof rootReducer>\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    auth: authReducer,\r\n    packs: packsReducer,\r\n    login:loginReducer,\r\n    profile:profileReducer,\r\n    recovery:passwordRecoveryReducer,\r\n    cards:cardsReducer\r\n\r\n})\r\n// непосредственно создаём store\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n// определить автоматически тип всего объекта состояния\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\nexport type AppDispatch = ThunkDispatch<AppRootStateType, unknown, AppActionType>\r\n\r\nexport type AppActionType =\r\n    | AuthActionsType\r\n    | AppActionsType\r\n    | LoginActionsType\r\n    | ProfileActionsType\r\n    | PasswordRecoveryType\r\n    | PacksActionsType\r\n    | CardsActionsType\r\n\r\n// export type AppThunk<ReturnType = void> = ThunkAction<ReturnType, AppRootStateType, unknown, AppActionType>\r\nexport type AppThunk = ThunkAction<void, AppRootStateType, unknown, AppActionType>\r\n\r\n// а это, чтобы можно было в консоли браузера обращаться к store в любой момент\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {App} from './features/app/App';\nimport {Provider} from 'react-redux';\nimport {store} from './api/store';\nimport { HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n        <Provider store={store}>\n            <HashRouter>\n                <App/>\n            </HashRouter>\n        </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPackPanel\":\"packTable_newPackPanel__2QHu-\",\"newPackButton\":\"packTable_newPackButton__3pkGJ\",\"paginationWrapper\":\"packTable_paginationWrapper__2bdxr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"login_card__3InJz\",\"signUp\":\"login_signUp__3_jdp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__1Uaxp\",\"navHeader\":\"navbar_navHeader__11THd\",\"navTitle\":\"navbar_navTitle__35jWX\",\"navBtn\":\"navbar_navBtn__1bG0o\",\"navLinks\":\"navbar_navLinks__2LyUu\",\"navCheck\":\"navbar_navCheck__2XmC7\",\"logo\":\"navbar_logo__36ywt\",\"LogInButton\":\"navbar_LogInButton__j-Dbu\",\"loginNavLink\":\"navbar_loginNavLink__1y3Yx\",\"letsLearnImg\":\"navbar_letsLearnImg__1Ne95\"};"],"sourceRoot":""}